(this["webpackJsonpbinance-market-widget"]=this["webpackJsonpbinance-market-widget"]||[]).push([[0],{70:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(0),a=n.n(c),i=n(9),o=n.n(i),u=n(22),s=n(6),j=n(15),b=n(110),l=n(116),f=n(111),d=n(113),O=n(118),p=n(112),m=n(114),h=n(48),x=n.n(h),v=n(103),S=n(117),w=n(102),y=n(119),T=n(120);function g(e){var t=e.anchorRef,n=e.open,c=e.onClose,a=void 0===c?function(){}:c,i=e.children;return Object(r.jsx)(y.a,{open:n,anchorEl:t.current,role:void 0,transition:!0,keepMounted:!0,style:{zIndex:10},children:function(e){var t=e.TransitionProps,c=e.placement;return Object(r.jsx)(S.a,Object(s.a)(Object(s.a)({},t),{},{style:{transformOrigin:"bottom"===c?"center top":"center bottom"},children:Object(r.jsx)(w.a,{children:Object(r.jsx)(v.a,{onClickAway:a,children:Object(r.jsx)(T.a,{autoFocusItem:n,children:i})})})}))}})}var C=n(42),B=n(105),k=n(109),P=n(108),R=n(104),E=n(106),H=n(107),L=n(45),M=n.n(L),X=n(46),I=n.n(X);function N(e){var t=e.data,n=e.columns,c=Object(C.useTable)({columns:n,data:t},C.useSortBy),a=c.getTableProps,i=c.getTableBodyProps,o=c.headerGroups,u=c.rows,j=c.prepareRow;return Object(r.jsx)(R.a,{component:w.a,style:{maxHeight:600},children:Object(r.jsxs)(B.a,Object(s.a)(Object(s.a)({stickyHeader:!0,size:"small"},a),{},{children:[Object(r.jsx)(E.a,{children:o.map((function(e){return Object(r.jsx)(H.a,Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(r.jsxs)(P.a,Object(s.a)(Object(s.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(r.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(r.jsx)(M.a,{style:{fontSize:16}}):Object(r.jsx)(I.a,{style:{fontSize:16}}):""})]}))}))}))}))}),Object(r.jsx)(k.a,Object(s.a)(Object(s.a)({},i()),{},{children:u.map((function(e,t){return j(e),Object(r.jsx)(H.a,Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(r.jsx)(P.a,Object(s.a)(Object(s.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))})}var q=-1,A=1,F=3;var z=n(47),D=n(30),J="INIT",G="UPDATE",W={pairs:{},all:new Set,bnb:new Set,btc:new Set,alts:new Set,eth:new Set,xrp:new Set,trx:new Set};function U(e){return{list:e.map((function(e){return e.s})),entities:e.reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(D.a)({},t.s,Object(s.a)({},t)))}),{})}}function K(e,t){var n,r=new Set(e),c=Object(z.a)(t);try{for(c.s();!(n=c.n()).done;){var a=n.value;r.add(a)}}catch(i){c.e(i)}finally{c.f()}return r}function Q(e,t){var n=t.type,r=t.payload;switch(n){case J:var c=U(r),a=c.list,i=c.entities,o=r.filter((function(e){return"BNB"===e.pm})).map((function(e){return e.s})),u=r.filter((function(e){return"BTC"===e.pm})).map((function(e){return e.s})),j=r.filter((function(e){return"ALTS"===e.pm})).map((function(e){return e.s})),b=r.filter((function(e){return"XRP"===e.q})).map((function(e){return e.s})),l=r.filter((function(e){return"ETH"===e.q})).map((function(e){return e.s})),f=r.filter((function(e){return"TRX"===e.q})).map((function(e){return e.s}));return Object(s.a)(Object(s.a)({},e),{},{pairs:Object(s.a)(Object(s.a)({},e.pairs),i),all:K(e.all,new Set(a)),bnb:K(e.bnb,new Set(o)),btc:K(e.btc,new Set(u)),alts:K(e.alts,new Set(j)),eth:K(e.eth,new Set(l)),xrp:K(e.xrp,new Set(b)),trx:K(e.trx,new Set(f))});case G:var d=U(r),O=d.list,p=d.entities,m=r.filter((function(e){return"BNB"===e.pm})).map((function(e){return e.s})),h=r.filter((function(e){return"BTC"===e.pm})).map((function(e){return e.s})),x=r.filter((function(e){return"ALTS"===e.pm})).map((function(e){return e.s})),v=r.filter((function(e){return"XRP"===e.q})).map((function(e){return e.s})),S=r.filter((function(e){return"ETH"===e.q})).map((function(e){return e.s})),w=r.filter((function(e){return"TRX"===e.q})).map((function(e){return e.s}));return Object(s.a)(Object(s.a)({},e),{},{pairs:Object(s.a)(Object(s.a)({},e.pairs),Object.keys(p).reduce((function(t,n){return Object(s.a)(Object(s.a)({},t),{},Object(D.a)({},n,Object(s.a)(Object(s.a)({},e.pairs[n]),{},{c:p[n].c,o:p[n].o})))}),{})),all:K(e.all,new Set(O)),bnb:K(e.bnb,new Set(m)),btc:K(e.btc,new Set(h)),alts:K(e.alts,new Set(x)),eth:K(e.eth,new Set(S)),xrp:K(e.xrp,new Set(v)),trx:K(e.trx,new Set(w))});default:return e}}function V(e){return"".concat(e.b,"/").concat(e.q)}function Y(e){var t=e.c,n=e.o;return"".concat(((t-n)/n*100).toFixed(2),"%")}var Z=function(){var e=function(){var e=Object(c.useReducer)(Q,W),t=Object(j.a)(e,2),n=t[0],r=t[1];return[n,Object(c.useCallback)((function(e){r({type:J,payload:e})}),[]),Object(c.useCallback)((function(e){r({type:G,payload:e})}),[])]}(),t=Object(j.a)(e,3),n=t[0],a=t[1],i=t[2];Object(c.useEffect)((function(){var e=!1;return fetch("https://www.binance.com/exchange-api/v1/public/asset-service/product/get-products").then((function(e){return e.json()})).then((function(e){return e.data.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{id:e.s})}))})).then((function(e){return a(e)})).catch((function(){e||a([])})),function(){e=!0}}),[a]);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onOpen,r=void 0===n?function(){}:n,a=t.onMessage,i=void 0===a?function(){}:a,o=t.onClose,u=void 0===o?function(){}:o,s=t.onError,b=void 0===s?function(){}:s,l=t.retryCounts,f=void 0===l?3:l,d=t.retryInterval,O=void 0===d?5e3:d,p=Object(c.useRef)(),m=Object(c.useState)(),h=Object(j.a)(m,2),x=h[0],v=h[1],S=Object(c.useState)(),w=Object(j.a)(S,2),y=w[0],T=w[1],g=Object(c.useRef)(0),C=Object(c.useCallback)((function(e){p.current&&p.current.readyState===A&&p.current.send(e)}),[]),B=Object(c.useCallback)((function(){p.current&&p.current.readyState===A&&p.current.close()}),[]),k=Object(c.useCallback)((function(t,n,r,c){return console.log("connect"),p.current=new WebSocket(e),p.current.addEventListener("open",t),p.current.addEventListener("message",n),p.current.addEventListener("close",r),p.current.addEventListener("error",c),function(){p.current.close(),p.current=null}}),[e]);return Object(c.useEffect)((function(){var e,t,n=!1,c=function(){r(),n||v(A)},a=function(e){i(e),n||T(e.data)},o=function r(){u(),n||v(F),g.current<f&&(t=setTimeout((function(){console.log("retry"),g.current++,e=k(c,a,r,s)}),O))},s=function r(i){b(i),n||v(q),g.current<f&&(t=setTimeout((function(){g.current++,e=k(c,a,o,r)}),O))};return e=k(c,a,o,s),function(){n=!0,e(),t&&clearTimeout(t)}}),[k,f,O]),{readyState:x,message:y,send:C,close:B}}("wss://stream.binance.com/stream?streams=!miniTicker@arr"),h=o.message,v=o.readyState,S=o.close,w=Object(c.useMemo)((function(){return 1===v?"Sync":3===v?"Closed":-1===v?"Error":void 0}),[v]);Object(c.useEffect)((function(){if(h){var e=JSON.parse(h).data;i(e)}}),[h,i]);var y=Object(c.useMemo)((function(){return{BNB:Object(u.a)(n.bnb).map((function(e){return n.pairs[e]})),BTC:Object(u.a)(n.btc).map((function(e){return n.pairs[e]})),ALTS:Object(u.a)(n.alts).map((function(e){return n.pairs[e]})),XRP:Object(u.a)(n.xrp).map((function(e){return n.pairs[e]})),ETH:Object(u.a)(n.eth).map((function(e){return n.pairs[e]})),TRX:Object(u.a)(n.trx).map((function(e){return n.pairs[e]}))}}),[n]),T=Object(c.useState)("BTC"),C=Object(j.a)(T,2),B=C[0],k=C[1],P=Object(c.useMemo)((function(){return y[B]}),[y,B]),R=Object(c.useMemo)((function(){return[{Header:"Pair",accessor:V},{Header:"Last Price",accessor:"c"},{Header:"Change",accessor:Y}]}),[]),E=Object(c.useRef)(),H=Object(c.useState)(!1),L=Object(j.a)(H,2),M=L[0],X=L[1];return Object(r.jsxs)(b.a,{fixed:!0,maxWidth:"xs",component:"section",children:[Object(r.jsx)(l.a,{py:1,children:Object(r.jsxs)(f.a,{container:!0,justify:"space-between",children:[Object(r.jsx)(f.a,{item:!0,xs:!0,children:Object(r.jsx)(p.a,{variant:"h5",component:"h1",children:"Market"})}),Object(r.jsxs)(f.a,{item:!0,xs:!0,container:!0,justify:"flex-end",alignItems:"center",children:[Object(r.jsx)(p.a,{variant:"body1",color:"textSecondary",children:w}),Object(r.jsx)(d.a,{variant:"outlined",onClick:S,disabled:1!==v,children:"Close"})]})]})}),Object(r.jsx)(m.a,{}),Object(r.jsx)(l.a,{py:1,children:Object(r.jsxs)(f.a,{container:!0,spacing:3,children:[Object(r.jsx)(f.a,{item:!0,xs:!0,children:Object(r.jsx)(d.a,{color:"BNB"===B?"primary":"default",onClick:function(){return k("BNB")},children:"BNB"})}),Object(r.jsx)(f.a,{item:!0,xs:!0,children:Object(r.jsx)(d.a,{color:"BTC"===B?"primary":"default",onClick:function(){return k("BTC")},children:"BTC"})}),Object(r.jsx)(f.a,{item:!0,xs:!0,children:Object(r.jsxs)("div",{onMouseOver:function(){return X(!0)},onMouseOut:function(){return X(!1)},children:[Object(r.jsx)(d.a,{ref:E,endIcon:Object(r.jsx)(x.a,{}),onClick:function(){return k("ALTS")},children:"ALTS"}),Object(r.jsxs)(g,{anchorRef:E,open:M,children:[Object(r.jsx)(O.a,{onClick:function(){return k("XRP")},children:"XRP"}),Object(r.jsx)(O.a,{onClick:function(){return k("ETH")},children:"ETH"}),Object(r.jsx)(O.a,{onClick:function(){return k("TRX")},children:"TRX"})]})]})})]})}),Object(r.jsx)(N,{data:P,columns:R})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,123)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(Z,{})}),document.getElementById("root")),$()}},[[70,1,2]]]);
//# sourceMappingURL=main.dd115ed6.chunk.js.map